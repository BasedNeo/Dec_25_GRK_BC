MARKETPLACE CLEANUP & COMPREHENSIVE TESTING

ISSUE: Marketplace has duplicate pages (Browse/Collection) from multi-collection feature. Need to simplify to single collection (Guardians) and test all features.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STEP 1: SIMPLIFY MARKETPLACE TO SINGLE COLLECTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. UPDATE FILE: client/src/App.tsx

Find the marketplace routes and simplify:

// BEFORE (if you see these routes):
<Route path="/marketplace/browse" element={<MarketplaceBrowse />} />
<Route path="/marketplace/collections" element={<Collections />} />
<Route path="/marketplace/:collectionAddress" element={<CollectionPage />} />
<Route path="/marketplace" element={<Marketplace />} />

// AFTER - Keep only one clean route:
<Route path="/marketplace" element={<Marketplace />} />

// Remove any import statements at top for MarketplaceBrowse, Collections, CollectionPage if they exist


2. UPDATE FILE: client/src/components/Navbar.tsx

Ensure marketplace link is simple:

// Make sure navigation has:
{ name: t('nav.marketplace'), href: '/marketplace' }

// NOT:
// { name: 'Browse', href: '/marketplace/browse' }
// { name: 'Collections', href: '/marketplace/collections' }


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STEP 2: ENSURE MARKETPLACE SHOWS GUARDIANS ONLY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. UPDATE FILE: client/src/pages/Marketplace.tsx

At the top of the file, ensure it's fetching only Guardian listings:

import { NFT_CONTRACT } from '@/lib/constants';

// In the component, make sure listings query is simple:
const { data: listings, isLoading } = useQuery({
  queryKey: ['marketplace-listings'],
  queryFn: async () => {
    const res = await fetch('/api/marketplace/listings');
    if (!res.ok) throw new Error('Failed to fetch listings');
    return res.json();
  }
});

// Remove any collection filter dropdowns or tabs if they exist


2. Make sure the page title is clear:

<h1>Guardian Marketplace</h1>
// or
<h1>Marketplace</h1>


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STEP 3: REMOVE UNUSED MULTI-COLLECTION FILES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

If these files exist, delete them (they're not needed for v1):

1. DELETE (if exists): client/src/pages/MarketplaceBrowse.tsx
2. DELETE (if exists): client/src/pages/Collections.tsx  
3. DELETE (if exists): client/src/pages/CollectionPage.tsx
4. DELETE (if exists): client/src/hooks/useCollections.ts


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STEP 4: RUN COMPREHENSIVE FEATURE TESTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Test each feature systematically. Open app in browser and go through this checklist:


ğŸ”Œ WALLET CONNECTION TEST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Click "Connect Wallet"
   âœ… Should open RainbowKit modal
   âœ… Should connect successfully
   âœ… Should show wallet address in navbar
   
2. Check network
   âœ… Should show BasedAI network
   âœ… If wrong network, should show banner to switch
   
3. Disconnect and reconnect
   âœ… Should work smoothly


ğŸ¨ NFT DISPLAY TEST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Navigate to "Guardians" page
   âœ… Page loads without errors
   âœ… NFT images display
   âœ… NFT names/IDs show correctly
   âœ… Traits display (if applicable)
   âœ… Loading skeleton appears first, then content
   
2. Check console (F12 > Console)
   âœ… No red errors
   âœ… No "undefined" errors
   âœ… IPFS loading working


ğŸ’° MINTING TEST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Go to Mint page
   âœ… Page loads
   âœ… Mint price displays correctly
   âœ… "Max Affordable" calculates correctly
   âœ… Quantity selector works
   
2. Try minting (if you have test funds)
   âœ… Wallet popup appears
   âœ… Transaction submits
   âœ… Success message appears
   âœ… New NFT appears in collection
   
3. Try without wallet connected
   âœ… Shows "Connect wallet" message


ğŸ›’ MARKETPLACE TEST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Navigate to Marketplace
   âœ… Page loads cleanly
   âœ… Shows listings OR "No listings yet"
   âœ… NOT showing "Browse" or "Collections" tabs
   âœ… NOT showing multiple collections
   
2. If listings exist:
   âœ… NFT images load
   âœ… Prices display correctly
   âœ… "Buy" button visible
   âœ… Owner address shows
   
3. Try buying (if listing exists and you have funds)
   âœ… Buy button works
   âœ… Wallet popup appears
   âœ… Transaction submits
   âœ… Success message
   âœ… NFT removed from listings


ğŸ‘¤ PROFILE/PORTFOLIO TEST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Go to Profile page
   âœ… Page loads
   âœ… Shows "Your Guardians" or similar
   âœ… Displays owned NFTs
   âœ… NFT count accurate
   
2. If you own NFTs:
   âœ… All owned NFTs display
   âœ… Images load correctly
   âœ… Can click for details
   
3. Try other wallet address in URL
   âœ… Shows that wallet's NFTs


ğŸ“Š ACTIVITY FEED TEST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Go to Activity page
   âœ… Page loads
   âœ… Shows recent transactions OR "No activity"
   âœ… Events display correctly (Minted, Listed, Sold)
   âœ… Timestamps show
   âœ… Links to block explorer work
   
2. Check if your recent transactions appear
   âœ… Your mints show up
   âœ… Your buys/sells show up


ğŸ—³ï¸ GOVERNANCE TEST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Go to Governance page
   âœ… Page loads
   âœ… Shows proposals OR "No proposals"
   
2. If proposals exist:
   âœ… Proposal text displays
   âœ… Vote counts show
   âœ… Can click "Yes" or "No"
   âœ… Vote registers
   
3. If you're admin:
   âœ… "Create Proposal" button visible
   âœ… Can create new proposal


ğŸ“ˆ POOL TRACKER TEST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Go to Pool Tracker page
   âœ… Page loads
   âœ… TVL displays (even if $0)
   âœ… Volume displays
   âœ… Brain status shows
   âœ… NO "undefined" values
   âœ… NO "NaN" values
   âœ… Emission rate shows


ğŸ® GAMES TEST (if you own NFT)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Go to Arcade page
   âœ… Page loads
   âœ… Game cards display
   âœ… Game images/titles show
   
2. Click a game card
   âœ… Game loads
   âœ… Game is playable
   âœ… Controls work
   âœ… Score tracks
   
3. Exit game
   âœ… Returns to arcade
   âœ… Points saved

4. Try without NFT (disconnect wallet or use wallet without NFT)
   âœ… Shows "Retro Defender" unlocked
   âœ… Shows other games locked


âš¡ PERFORMANCE TEST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Open browser DevTools (F12)
2. Go to Network tab
3. Refresh page
   âœ… Initial load < 5 seconds
   âœ… Page becomes interactive quickly
   
4. Navigate between pages
   âœ… Navigation feels instant
   âœ… No lag or freezing
   
5. Check Performance tab
   âœ… No excessive re-renders
   âœ… No memory leaks


ğŸ›¡ï¸ ERROR HANDLING TEST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Wrong network test:
   - Switch MetaMask to Ethereum mainnet
   âœ… Banner appears to switch network
   âœ… Can click to switch back
   
2. No wallet test:
   - Disconnect wallet
   - Try to mint
   âœ… Shows "Connect wallet" message
   
3. Failed transaction test:
   - Try to buy with insufficient funds
   âœ… Shows error message
   âœ… Doesn't freeze app


ğŸ“± MOBILE RESPONSIVE TEST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Open DevTools (F12) > Device Toolbar
2. Select iPhone or mobile view
   âœ… Layout adjusts properly
   âœ… Navigation works
   âœ… All buttons accessible
   âœ… No horizontal scroll
   âœ… Text readable


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STEP 5: CHECK FOR COMMON ISSUES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

In Replit terminal, check for errors:

1. Check recent logs:
npm run dev

Look for:
âŒ Red error messages
âŒ "Cannot read property of undefined"
âŒ Database connection errors
âŒ RPC timeout errors

2. Check browser console (F12):
Look for:
âŒ Red errors
âŒ Failed API calls (red in Network tab)
âŒ CORS errors
âŒ 404 errors


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STEP 6: QUICK FIXES FOR COMMON ISSUES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

IF YOU SEE "undefined" IN POOL TRACKER:

1. UPDATE FILE: client/src/pages/PoolTracker.tsx

Find any values that might be undefined and add fallback:

// BEFORE:
<div>{totalVolume}</div>

// AFTER:
<div>{totalVolume || '0'}</div>

// Apply to all displayed values


IF YOU SEE RPC ERRORS:

1. UPDATE FILE: client/src/lib/constants.ts

Make sure RPC_ENDPOINTS has multiple endpoints:

export const RPC_ENDPOINTS = [
  'https://rpc.basedai.network',
  'https://rpc1.basedai.network',
  'https://rpc2.basedai.network'
];


IF IMAGES NOT LOADING:

1. Check IPFS gateway in constants.ts:

export const IPFS_GATEWAY = 'https://ipfs.io/ipfs/';

// Try alternative:
export const IPFS_GATEWAY = 'https://cloudflare-ipfs.com/ipfs/';


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… FINAL CHECKLIST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

After testing everything, confirm:

CRITICAL (Must Pass):
- [ ] App loads remotely (not just Replit preview)
- [ ] Wallet connects
- [ ] Guardians page displays NFTs
- [ ] Marketplace page loads (no Browse/Collections confusion)
- [ ] Minting works
- [ ] No console errors

IMPORTANT (Should Pass):
- [ ] Activity feed shows data
- [ ] Profile shows owned NFTs
- [ ] Pool tracker displays correctly
- [ ] Games work (if NFT owned)
- [ ] Performance is smooth

NICE TO HAVE (Can fix later):
- [ ] Mobile fully responsive
- [ ] All translations working
- [ ] Loading states elegant


Reply with your test results in this format:

"âœ… Wallet: Working
âœ… NFT Display: Working  
âœ… Marketplace: Working - no more Browse page
âŒ Pool Tracker: Shows 'undefined' for TVL
âš ï¸  Games: Solitaire loads slow
âœ… Performance: Good

Issues found: [list any]"