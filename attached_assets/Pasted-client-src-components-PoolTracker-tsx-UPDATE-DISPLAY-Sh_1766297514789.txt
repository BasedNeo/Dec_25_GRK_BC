client/src/components/PoolTracker.tsx
UPDATE DISPLAY:
Show breakdown:
Days active: 20
Daily rate: 6,430 $BASED
From emissions: 128,600 $BASED
From mint fees: [calculate]
From marketplace: [calculate]
Total Treasury: [sum]
Add tooltip explaining:
"Community Treasury receives 10% of Brain emissions (6,430 $BASED/day)
starting December 1st, 2024, plus 70% of mint fees and 2.5% of marketplace sales."
MINT PAGE (wherever treasury balance shows):
Use same calculation
Show accurate balance
Add "Updated: [timestamp]" to show freshness
═══════════════════════════════════════════════════════════════════
VERIFICATION
═══════════════════════════════════════════════════════════════════
AFTER FIX:
□ Community Treasury shows ~128,600 $BASED (not 73M)
□ Days active shows: 20 days
□ Daily rate shows: 6,430 $BASED/day
□ Calculation: 20 × 6,430 = 128,600 ✓
□ Mint page shows same accurate number
□ Pool Tracker shows same accurate number
□ Console logs show correct calculation
VERIFY FORMULA:
As of Dec 20, 2024:
Days since Dec 1: 20 days (including Dec 1)
Emissions: 20 × 6,430 = 128,600 $BASED
Plus fees from mints/marketplace
Tomorrow (Dec 21):
Days: 21
Emissions: 21 × 6,430 = 135,030 $BASED
═══════════════════════════════════════════════════════════════════
ADDITIONAL FEES TO ADD (if possible)
═══════════════════════════════════════════════════════════════════
MINT FEES (70% to Treasury):
Query MintContract for all mints since Dec 1
Calculate: total_mints × mint_price × 0.70
MARKETPLACE FEES (2.5% to Treasury):
Query MarketplaceContract for all sales since Dec 1
Calculate: total_sales_volume × 0.025
LISTING FEES (if any):
Add to total
TOTAL = emissions + mint_fees + marketplace_fees + listing_fees
═══════════════════════════════════════════════════════════════════
FINAL OUTPUT
═══════════════════════════════════════════════════════════════════
SHOW ON MINT PAGE & POOL TRACKER:
Community Treasury Balance:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━
From Brain Emissions: 128,600 $BASED
(20 days × 6,430/day)
From Mint Fees (70%): [calculate] $BASED
From Marketplace (2.5%): [calculate] $BASED
Total Treasury: ~128,600+ $BASED
━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Updated: Dec 20, 2024
═══════════════════════════════════════════════════════════════════
CRITICAL: FIX THIS IMMEDIATELY
═══════════════════════════════════════════════════════════════════
This is a critical display error showing 570x the actual amount.
Fix calculation to use Dec 1 start date and 6,430/day rate.