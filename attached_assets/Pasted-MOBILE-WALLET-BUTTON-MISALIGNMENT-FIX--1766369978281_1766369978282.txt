MOBILE WALLET BUTTON MISALIGNMENT FIX

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ISSUE: Clicking "All Wallets" connects to Trust Wallet instead
CAUSE: Buttons are overlapping or misaligned on mobile
FIX: Add diagnostic borders + force vertical layout
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STEP 1: ADD DIAGNOSTIC CSS TO SEE BUTTON POSITIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

File: client/src/index.css

ADD this at the VERY END of the file:

/* ========================================
   DIAGNOSTIC: SHOW BUTTON BOUNDARIES
   ======================================== */

@media (max-width: 768px) {
  /* Make ALL wallet buttons visible with colored borders */
  div[data-rk] button[type="button"] {
    position: relative !important;
    z-index: auto !important;
  }
  
  /* Color each button differently to see overlap */
  div[data-rk] button[type="button"]:nth-child(1) {
    border: 3px solid red !important;
    background: rgba(255, 0, 0, 0.1) !important;
  }
  
  div[data-rk] button[type="button"]:nth-child(2) {
    border: 3px solid blue !important;
    background: rgba(0, 0, 255, 0.1) !important;
  }
  
  div[data-rk] button[type="button"]:nth-child(3) {
    border: 3px solid green !important;
    background: rgba(0, 255, 0, 0.1) !important;
  }
  
  div[data-rk] button[type="button"]:nth-child(4) {
    border: 3px solid orange !important;
    background: rgba(255, 165, 0, 0.1) !important;
  }
  
  div[data-rk] button[type="button"]:nth-child(5) {
    border: 3px solid purple !important;
    background: rgba(128, 0, 128, 0.1) !important;
  }
  
  /* Force proper vertical stacking */
  div[data-rk] div[role="dialog"] > div {
    display: flex !important;
    flex-direction: column !important;
    gap: 16px !important;
  }
  
  /* Prevent overlapping */
  div[data-rk] button[type="button"] {
    margin: 0 !important;
    clear: both !important;
    display: block !important;
    width: 100% !important;
  }
}


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STEP 2: ADD CLICK POSITION LOGGER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

File: client/src/App.tsx

ADD this useEffect (after imports, inside the App function):

useEffect(() => {
  function logClickPosition(e: MouseEvent) {
    const target = e.target as HTMLElement;
    const button = target.closest('button');
    
    if (button && button.closest('[data-rk]')) {
      const buttonText = button.textContent?.trim();
      
      console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
      console.log('ğŸ–±ï¸ YOU CLICKED:', buttonText);
      console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
      
      // Check for overlapping buttons
      const allButtons = document.querySelectorAll('[data-rk] button[type="button"]');
      console.log('Visible buttons:');
      
      allButtons.forEach((btn, i) => {
        const btnRect = btn.getBoundingClientRect();
        const btnText = btn.textContent?.trim();
        console.log(`  ${i + 1}. "${btnText}"`, {
          top: Math.round(btnRect.top),
          left: Math.round(btnRect.left),
          width: Math.round(btnRect.width),
          height: Math.round(btnRect.height),
        });
      });
    }
  }
  
  document.addEventListener('click', logClickPosition, true);
  
  return () => {
    document.removeEventListener('click', logClickPosition, true);
  };
}, []);


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STEP 3: ADD MODAL INSPECTOR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

File: client/src/App.tsx

ADD this SECOND useEffect (right after the one above):

useEffect(() => {
  const observer = new MutationObserver(() => {
    const modal = document.querySelector('[data-rk][role="dialog"]');
    
    if (modal) {
      setTimeout(() => {
        console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
        console.log('ğŸ“± WALLET MODAL BUTTON LAYOUT');
        console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
        
        const buttons = modal.querySelectorAll('button[type="button"]');
        console.log('Total buttons:', buttons.length);
        console.log('');
        
        buttons.forEach((btn, i) => {
          const text = btn.textContent?.trim() || 'Unknown';
          const rect = btn.getBoundingClientRect();
          
          console.log(`Button ${i + 1}: "${text}"`);
          console.log(`  Position: top=${Math.round(rect.top)}, left=${Math.round(rect.left)}`);
          console.log(`  Size: ${Math.round(rect.width)}x${Math.round(rect.height)}`);
          
          if (rect.width === 0 || rect.height === 0) {
            console.warn(`  âš ï¸ HIDDEN (0 dimensions)`);
          }
          
          if (rect.top < 0 || rect.left < 0 || rect.bottom > window.innerHeight) {
            console.warn(`  âš ï¸ OFF SCREEN`);
          }
        });
        
        console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
      }, 500);
    }
  });
  
  observer.observe(document.body, { childList: true, subtree: true });
  
  return () => observer.disconnect();
}, []);


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STEP 4: REBUILD AND TEST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Run in Replit Shell:
   npm run build

2. Republish app

3. On mobile device:
   - Clear browser cache
   - Open app
   - Click "Connect Wallet"

4. Look at the modal:
   - Do you see COLORED BORDERS around buttons?
   - Red = Button 1
   - Blue = Button 2
   - Green = Button 3
   - Orange = Button 4
   - Purple = Button 5
   
5. Take a screenshot of the modal

6. Check browser console (if possible):
   - You should see "ğŸ“± WALLET MODAL BUTTON LAYOUT"
   - Shows position of each button

7. Click what LOOKS like "All Wallets" button

8. Check console:
   - Look for "ğŸ–±ï¸ YOU CLICKED:"
   - What button text does it show?
   - If it says "Trust Wallet" instead of "All Wallets", buttons are misaligned!


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
WHAT TO REPORT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Screenshot of the modal showing colored borders

2. When you click "All Wallets" button, what does console say:
   "ğŸ–±ï¸ YOU CLICKED: ????"
   
3. Copy and paste the button layout from console:
   "ğŸ“± WALLET MODAL BUTTON LAYOUT"
   (all the button positions)

4. Answer:
   - Do you see multiple colored borders overlapping? YES/NO
   - Are buttons stacked vertically with space between? YES/NO
   - When you click "All Wallets", does it say "Trust Wallet" in console? YES/NO